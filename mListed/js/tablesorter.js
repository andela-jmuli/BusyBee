/*!
* TableSorter 2.4.6 - Client-side table sorting with ease!
* @requires jQuery v1.2.6+
*
* Copyright (c) 2007 Christian Bach
* Examples and docs at: http://tablesorter.com
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* @type jQuery
* @name tablesorter
* @cat Plugins/Tablesorter
* @author Christian Bach/christian.bach@polyester.se
* @contributor Rob Garrison/https://github.com/Mottie/tablesorter
*/
!function($){"use strict";$.extend({tablesorter:new function(){function log(t){"undefined"!=typeof console&&"undefined"!=typeof console.log?console.log(t):alert(t)}function benchmark(t,e){log(t+" ("+((new Date).getTime()-e.getTime())+"ms)")}function getElementText(t,e,r){if(!e)return"";var s=t.config,o=s.textExtraction,n="";return n="simple"===o?s.supportsTextContent?e.textContent:$(e).text():"function"==typeof o?o(e,t,r):"object"==typeof o&&o.hasOwnProperty(r)?o[r](e,t,r):s.supportsTextContent?e.textContent:$(e).text(),$.trim(n)}function detectParserForColumn(t,e,r,s){for(var o,n=ts.parsers.length,i=!1,a="",c=!0;""===a&&c;)r++,e[r]?(i=e[r].cells[s],a=getElementText(t,i,s),t.config.debug&&log("Checking if value was empty on row "+r+", column: "+s+": "+a)):c=!1;for(o=1;n>o;o++)if(ts.parsers[o].is(a,t,i))return ts.parsers[o];return ts.parsers[0]}function buildParserCache(t,e){var r,s,o,n,i,a,c,d=t.config,l=$(t.tBodies).filter(":not(."+d.cssInfoBlock+")"),u="";if(0!==l.length){if(r=l[0].rows,r[0])for(s=[],o=r[0].cells.length,n=0;o>n;n++)i=e.filter(':not([colspan])[data-column="'+n+'"]:last,[colspan="1"][data-column="'+n+'"]:last'),a=d.headers[n],c=ts.getParserById(ts.getData(i,a,"sorter")),d.empties[n]=ts.getData(i,a,"empty")||d.emptyTo||(d.emptyToBottom?"bottom":"top"),d.strings[n]=ts.getData(i,a,"string")||d.stringTo||"max",c||(c=detectParserForColumn(t,r,-1,n)),d.debug&&(u+="column:"+n+"; parser:"+c.id+"; string:"+d.strings[n]+"; empty: "+d.empties[n]+"\n"),s.push(c);return d.debug&&log(u),s}}function buildCache(t){var e,r,s,o,n,i,a,c,d,l=t.tBodies,u=t.config,f=u.parsers;for(u.cache={},u.debug&&(d=new Date),u.showProcessing&&ts.isProcessing(t,!0),i=0;i<l.length;i++)if(u.cache[i]={row:[],normalized:[]},!$(l[i]).hasClass(u.cssInfoBlock))for(e=l[i]&&l[i].rows.length||0,r=l[i].rows[0]&&l[i].rows[0].cells.length||0,o=0;e>o;++o)if(a=$(l[i].rows[o]),c=[],a.hasClass(u.cssChildRow))u.cache[i].row[u.cache[i].row.length-1]=u.cache[i].row[u.cache[i].row.length-1].add(a);else{for(u.cache[i].row.push(a),n=0;r>n;++n)s=getElementText(t,a[0].cells[n],n),c.push(f[n].format(s,t,a[0].cells[n],n));c.push(u.cache[i].normalized.length),u.cache[i].normalized.push(c)}u.showProcessing&&ts.isProcessing(t),u.debug&&benchmark("Building cache for "+e+" rows",d)}function appendToTable(t,e){var r,s,o,n,i,a,c,d,l,u,f,p,h=t.config,g=t.tBodies,m=[],b=h.cache;for(h.debug&&(p=new Date),l=0;l<g.length;l++)if(i=$(g[l]),!i.hasClass(h.cssInfoBlock)){for(a=ts.processTbody(t,i,!0),r=b[l].row,s=b[l].normalized,o=s.length,n=o?s[0].length-1:0,c=0;o>c;c++)if(f=s[c][n],m.push(r[f]),!h.appender||!h.removeRows)for(u=r[f].length,d=0;u>d;d++)a.append(r[f][d]);ts.processTbody(t,a,!1)}h.appender&&h.appender(t,m),h.debug&&benchmark("Rebuilt table",p),e||ts.applyWidget(t),$(t).trigger("sortEnd",t)}function computeThIndexes(t){var e,r,s,o,n,i,a,c,d,l,u,f,p=[],h={},g=$(t).find("thead:eq(0) tr, tfoot tr");for(e=0;e<g.length;e++)for(i=g[e].cells,r=0;r<i.length;r++){for(n=i[r],a=n.parentNode.rowIndex,c=a+"-"+n.cellIndex,d=n.rowSpan||1,l=n.colSpan||1,"undefined"==typeof p[a]&&(p[a]=[]),s=0;s<p[a].length+1;s++)if("undefined"==typeof p[a][s]){u=s;break}for(h[c]=u,$(n).attr({"data-column":u}),s=a;a+d>s;s++)for("undefined"==typeof p[s]&&(p[s]=[]),f=p[s],o=u;u+l>o;o++)f[o]="x"}return h}function formatSortingOrder(t){return/^d/i.test(t)||1===t}function buildHeaders(t){var e,r,s,o,n,i,a=computeThIndexes(t),c=t.config;return c.headerList=[],c.debug&&(n=new Date),i=$(t).find(c.selectorHeaders).each(function(t){r=$(this),e=c.headers[t],s=c.cssIcon?'<i class="'+c.cssIcon+'"></i>':"",this.innerHTML='<div class="tablesorter-header-inner">'+this.innerHTML+s+"</div>",c.onRenderHeader&&c.onRenderHeader.apply(r,[t]),this.column=a[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(ts.getData(r,e,"sortInitialOrder")||c.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,"false"===ts.getData(r,e,"sorter")?(this.sortDisabled=!0,r.addClass("sorter-false")):r.removeClass("sorter-false"),this.lockedOrder=!1,o=ts.getData(r,e,"lockedOrder")||!1,"undefined"!=typeof o&&o!==!1&&(this.order=this.lockedOrder=formatSortingOrder(o)?[1,1,1]:[0,0,0]),r.addClass(this.sortDisabled?"sorter-false":c.cssHeader),c.headerList[t]=this,r.parent().addClass(c.cssHeaderRow)}),t.config.debug&&(benchmark("Built headers:",n),log(i)),i}function setHeadersCss(t,e){var r,s,o,n,i=t.config,a=i.sortList,c=[i.cssDesc,i.cssAsc],d=$(t).find("tfoot tr").children().removeClass(c.join(" "));for(e.removeClass(c.join(" ")),n=a.length,s=0;n>s;s++)if(2!==a[s][1]&&(r=e.not(".sorter-false").filter('[data-column="'+a[s][0]+'"]'+(1===n?":last":"")),r.length))for(o=0;o<r.length;o++)r[o].sortDisabled||(r.eq(o).addClass(c[a[s][1]]),d.length&&d.filter('[data-column="'+a[s][0]+'"]').eq(o).addClass(c[a[s][1]]))}function fixColumnWidth(t){if(t.config.widthFixed&&0===$(t).find("colgroup").length){var e=$("<colgroup>"),r=$(t).width();$("tr:first td",t.tBodies[0]).each(function(){e.append($("<col>").css("width",parseInt($(this).width()/r*1e3,10)/10+"%"))}),$(t).prepend(e)}}function updateHeaderSortCount(t,e){var r,s,o=t.config,n=(o.headerList.length,e||o.sortList);o.sortList=[],$.each(n,function(t,e){r=[parseInt(e[0],10),parseInt(e[1],10)],s=o.headerList[r[0]],s&&(o.sortList.push(r),s.count=r[1]%(o.sortReset?3:2))})}function getCachedSortType(t,e){return t&&t[e]?t[e].type||"":""}function multisort(table){var dynamicExp,sortWrapper,col,mx=0,dir=0,tc=table.config,sortList=tc.sortList,l=sortList.length,bl=table.tBodies.length,sortTime,i,j,k,c,cache,lc,s,e,order,orgOrderCol;for(tc.debug&&(sortTime=new Date),k=0;bl>k;k++){for(dynamicExp="sortWrapper = function(a,b) {",cache=tc.cache[k],lc=cache.normalized.length,i=0;l>i;i++){if(c=sortList[i][0],order=sortList[i][1],s=/n/i.test(getCachedSortType(tc.parsers,c))?"Numeric":"Text",s+=0===order?"":"Desc",e="e"+i,/Numeric/.test(s)&&tc.strings[c]){for(j=0;lc>j;j++)col=Math.abs(parseFloat(cache.normalized[j][c])),mx=Math.max(mx,isNaN(col)?0:col);dir="boolean"==typeof tc.string[tc.strings[c]]?(0===order?1:-1)*(tc.string[tc.strings[c]]?-1:1):tc.strings[c]?tc.string[tc.strings[c]]||0:0
}

dynamicExp+="var "+e+" = $.tablesorter.sort"+s+"(table,a["+c+"],b["+c+"],"+c+","+mx+","+dir+"); ",dynamicExp+="if ("+e+") { return "+e+"; } ",dynamicExp+="else { "}for(orgOrderCol=cache.normalized&&cache.normalized[0]?cache.normalized[0].length-1:0,dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];",i=0;l>i;i++)dynamicExp+="}; ";dynamicExp+="return 0; ",dynamicExp+="}; ",cache.normalized.sort(eval(dynamicExp))}tc.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time",sortTime)}function resortComplete(t,e){t.trigger("updateComplete"),"function"==typeof e&&e(t[0])}function checkResort(t,e,r){e!==!1?t.trigger("sorton",[t[0].config.sortList,function(){resortComplete(t,r)}]):resortComplete(t,r)}var ts=this;ts.version="2.4.5",ts.parsers=[],ts.widgets=[],ts.defaults={theme:"default",widthFixed:!1,showProcessing:!1,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",usNumberFormat:!0,delayInit:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,onRenderHeader:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerSortUp",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerSortDown",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},ts.benchmark=benchmark,ts.construct=function(t){return this.each(function(){if(this.tHead&&0!==this.tBodies.length&&this.hasInitialized!==!0){var e,r,s,o,n,i,a,c,d=$(this),l="",u=$.metadata;this.hasInitialized=!1,this.config={},r=$.extend(!0,this.config,ts.defaults,t),$.data(this,"tablesorter",r),r.debug&&$.data(this,"startoveralltimer",new Date),r.supportsTextContent="x"===$("<span>x</span>")[0].textContent,r.supportsDataObject=parseFloat($.fn.jquery)>=1.4,r.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(d.attr("class"))||(l=""!==r.theme?" tablesorter-"+r.theme:""),d.addClass(r.tableClass+l),e=buildHeaders(this),r.parsers=buildParserCache(this,e),r.delayInit||buildCache(this),e.find("*").andSelf().filter(r.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter",function(t,u){var f=this.tagName.match("TH|TD")?$(this):$(this).parents("th, td").filter(":last"),p=f[0];if(1!==(t.which||t.button))return!1;if("mousedown"===t.type)return c=(new Date).getTime(),"INPUT"===t.target.tagName?"":!r.cancelSelection;if(u!==!0&&(new Date).getTime()-c>250)return!1;if(r.delayInit&&!r.cache&&buildCache(d[0]),!p.sortDisabled){if(d.trigger("sortStart",d[0]),l=!t[r.sortMultiSortKey],p.count=(p.count+1)%(r.sortReset?3:2),r.sortRestart&&(s=p,e.each(function(){this===s||!l&&$(this).is("."+r.cssDesc+",."+r.cssAsc)||(this.count=-1)})),s=p.column,l){if(r.sortList=[],null!==r.sortForce)for(n=r.sortForce,o=0;o<n.length;o++)n[o][0]!==s&&r.sortList.push(n[o]);if(a=p.order[p.count],2>a&&(r.sortList.push([s,a]),p.colSpan>1))for(o=1;o<p.colSpan;o++)r.sortList.push([s+o,a])}else if(r.sortAppend&&r.sortList.length>1&&ts.isValueInArray(r.sortAppend[0][0],r.sortList)&&r.sortList.pop(),ts.isValueInArray(s,r.sortList))for(o=0;o<r.sortList.length;o++)i=r.sortList[o],a=r.headerList[i[0]],i[0]===s&&(i[1]=a.order[a.count],2===i[1]&&(r.sortList.splice(o,1),a.count=-1));else if(a=p.order[p.count],2>a&&(r.sortList.push([s,a]),p.colSpan>1))for(o=1;o<p.colSpan;o++)r.sortList.push([s+o,a]);if(null!==r.sortAppend)for(n=r.sortAppend,o=0;o<n.length;o++)n[o][0]!==s&&r.sortList.push(n[o]);d.trigger("sortBegin",d[0]),setTimeout(function(){setHeadersCss(d[0],e),multisort(d[0]),appendToTable(d[0])},1)}}),r.cancelSelection&&e.each(function(){this.onselectstart=function(){return!1}}),d.unbind("update updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave").bind("update",function(t,s,o){$(r.selectorRemove,this).remove(),r.parsers=buildParserCache(this,e),buildCache(this),checkResort(d,s,o)}).bind("updateCell",function(t,e,s,o){var n,i,a,c=this,l=$(this).find("tbody"),u=l.index($(e).parents("tbody").filter(":last")),f=$(e).parents("tr").filter(":last");l.length&&u>=0&&(i=l.eq(u).find("tr").index(f),a=e.cellIndex,n=c.config.cache[u].normalized[i].length-1,c.config.cache[u].row[c.config.cache[u].normalized[i][n]]=f,c.config.cache[u].normalized[i][a]=r.parsers[a].format(getElementText(c,e,a),c,e,a),checkResort(d,s,o))}).bind("addRows",function(t,e,s,n){var i,a=e.filter("tr").length,c=[],l=e[0].cells.length,u=this,f=$(this).find("tbody").index(e.closest("tbody"));for(i=0;a>i;i++){for(o=0;l>o;o++)c[o]=r.parsers[o].format(getElementText(u,e[i].cells[o],o),u,e[i].cells[o],o);c.push(r.cache[f].row.length),r.cache[f].row.push([e[i]]),r.cache[f].normalized.push(c),c=[]}checkResort(d,s,n)}).bind("sorton",function(t,r,s,o){$(this).trigger("sortStart",this),updateHeaderSortCount(this,r),setHeadersCss(this,e),multisort(this),appendToTable(this,o),"function"==typeof s&&s(this)}).bind("appendCache",function(t,e,r){appendToTable(this,r),"function"==typeof e&&e(this)}).bind("applyWidgetId",function(t,e){ts.getWidgetById(e).format(this,r,r.widgetOptions)}).bind("applyWidgets",function(t,e){ts.applyWidget(this,e)}).bind("refreshWidgets",function(t,e,r){ts.refreshWidgets(this,e,r)}).bind("destroy",function(t,e,r){ts.destroy(this,e,r)}),r.supportsDataObject&&"undefined"!=typeof d.data().sortlist?r.sortList=d.data().sortlist:u&&d.metadata()&&d.metadata().sortlist&&(r.sortList=d.metadata().sortlist),ts.applyWidget(this,!0),r.sortList.length>0?d.trigger("sorton",[r.sortList,{},!r.initWidgets]):r.initWidgets&&ts.applyWidget(this),fixColumnWidth(this),r.showProcessing&&d.unbind("sortBegin sortEnd").bind("sortBegin sortEnd",function(t){ts.isProcessing(d[0],"sortBegin"===t.type)}),this.hasInitialized=!0,r.debug&&ts.benchmark("Overall initialization time",$.data(this,"startoveralltimer")),d.trigger("tablesorter-initialized",this),"function"==typeof r.initialized&&r.initialized(this)}})},ts.isProcessing=function(t,e,r){var s=t.config,o=r||$(t).find("."+s.cssHeader);e?(s.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:ts.isValueInArray(parseFloat($(this).attr("data-column")),s.sortList)})),o.addClass(s.cssProcessing)):o.removeClass(s.cssProcessing)},ts.processTbody=function(t,e,r){var s;return r?(e.before('<span class="tablesorter-savemyplace"/>'),s=$.fn.detach?e.detach():e.remove()):(s=$(t).find("span.tablesorter-savemyplace"),e.insertAfter(s),void s.remove())},ts.clearTableBody=function(t){$(t.tBodies).filter(":not(."+t.config.cssInfoBlock+")").empty()},ts.destroy=function(t,e,r){var s=$(t),o=t.config,n=s.find("thead:first");t.hasInitialized=!1,n.find("tr:not(."+o.cssHeaderRow+")").remove(),n.find(".tablesorter-resizer").remove(),ts.refreshWidgets(t,!0,!0),s.removeData("tablesorter").unbind("update updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave").find("."+o.cssHeader).unbind("click mousedown mousemove mouseup").removeClass(o.cssHeader+" "+o.cssAsc+" "+o.cssDesc).find(".tablesorter-header-inner").each(function(){""!==o.cssIcon&&$(this).find("."+o.cssIcon).remove(),$(this).replaceWith($(this).contents())}),e!==!1&&s.removeClass(o.tableClass),"function"==typeof r&&r(t)},ts.regex=[/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i],ts.sortText=function(t,e,r,s){if(e===r)return 0;var o,n,i,a,c,d,l,u,f=t.config,p=f.string[f.empties[s]||f.emptyTo],h=ts.regex;if(""===e&&0!==p)return"boolean"==typeof p?p?-1:1:-p||-1;if(""===r&&0!==p)return"boolean"==typeof p?p?1:-1:p||1;if("function"==typeof f.textSorter)return f.textSorter(e,r,t,s);if(o=e.replace(h[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),i=r.replace(h[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),n=parseInt(e.match(h[2]),16)||1!==o.length&&e.match(h[1])&&Date.parse(e),a=parseInt(r.match(h[2]),16)||n&&r.match(h[1])&&Date.parse(r)||null){if(a>n)return-1;if(n>a)return 1}for(u=Math.max(o.length,i.length),l=0;u>l;l++){if(c=isNaN(o[l])?o[l]||0:parseFloat(o[l])||0,d=isNaN(i[l])?i[l]||0:parseFloat(i[l])||0,isNaN(c)!==isNaN(d))return isNaN(c)?1:-1;if(typeof c!=typeof d&&(c+="",d+=""),d>c)return-1;if(c>d)return 1}return 0},ts.sortTextDesc=function(t,e,r,s){if(e===r)return 0;var o=t.config,n=o.string[o.empties[s]||o.emptyTo];return""===e&&0!==n?"boolean"==typeof n?n?-1:1:n||1:""===r&&0!==n?"boolean"==typeof n?n?1:-1:-n||-1:"function"==typeof o.textSorter?o.textSorter(r,e,t,s):ts.sortText(t,r,e)},ts.getTextValue=function(t,e,r){if(e){var s,o=t.length,n=e+r;for(s=0;o>s;s++)n+=t.charCodeAt(s);return r*n}return 0},ts.sortNumeric=function(t,e,r,s,o,n){if(e===r)return 0;var i=t.config,a=i.string[i.empties[s]||i.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===r&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=ts.getTextValue(e,o,n)),isNaN(r)&&(r=ts.getTextValue(r,o,n)),e-r)},ts.sortNumericDesc=function(t,e,r,s,o,n){if(e===r)return 0;var i=t.config,a=i.string[i.empties[s]||i.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===r&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=ts.getTextValue(e,o,n)),isNaN(r)&&(r=ts.getTextValue(r,o,n)),r-e)},ts.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4",A:"\xc1\xc0\xc2\xc3\xc4",c:"\xe7",C:"\xc7",e:"\xe9\xe8\xea\xeb",E:"\xc9\xc8\xca\xcb",i:"\xed\xec\u0130\xee\xef",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6",O:"\xd3\xd2\xd4\xd5\xd6",S:"\xdf",u:"\xfa\xf9\xfb\xfc",U:"\xda\xd9\xdb\xdc"},
    ts.replaceAccents=function(t){var e,r="[",s=ts.characterEquivalents;if(!ts.characterRegex){ts.characterRegexArray={};for(e in s)"string"==typeof e&&(r+=s[e],ts.characterRegexArray[e]=new RegExp("["+s[e]+"]","g"));ts.characterRegex=new RegExp(r+"]")}if(ts.characterRegex.test(t))for(e in s)"string"==typeof e&&(t=t.replace(ts.characterRegexArray[e],e));return t},ts.isValueInArray=function(t,e){var r,s=e.length;for(r=0;s>r;r++)if(e[r][0]===t)return!0;return!1},ts.addParser=function(t){var e,r=ts.parsers.length,s=!0;for(e=0;r>e;e++)ts.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(s=!1);s&&ts.parsers.push(t)},ts.getParserById=function(t){var e,r=ts.parsers.length;for(e=0;r>e;e++)if(ts.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return ts.parsers[e];return!1},ts.addWidget=function(t){ts.widgets.push(t)},ts.getWidgetById=function(t){var e,r,s=ts.widgets.length;for(e=0;s>e;e++)if(r=ts.widgets[e],r&&r.hasOwnProperty("id")&&r.id.toLowerCase()===t.toLowerCase())return r},ts.applyWidget=function(t,e){var r,s,o,n=t.config,i=n.widgetOptions,a=n.widgets.sort().reverse(),c=a.length;for(s=$.inArray("zebra",n.widgets),s>=0&&(n.widgets.splice(s,1),n.widgets.push("zebra")),n.debug&&(r=new Date),s=0;c>s;s++)o=ts.getWidgetById(a[s]),o&&(e===!0&&o.hasOwnProperty("init")?o.init(t,o,n,i):!e&&o.hasOwnProperty("format")&&o.format(t,n,i));n.debug&&benchmark("Completed "+(e===!0?"initializing":"applying")+" widgets",r)},ts.refreshWidgets=function(t,e,r){var s,o=t.config,n=o.widgets,i=ts.widgets,a=i.length;for(s=0;a>s;s++)i[s]&&i[s].id&&(e||$.inArray(i[s].id,n)<0)&&(o.debug&&log("removing "+i[s].id),i[s].hasOwnProperty("remove")&&i[s].remove(t,o,o.widgetOptions));r!==!0&&ts.applyWidget(t,e)},ts.getData=function(t,e,r){var s,o,n="",i=$(t);return i.length?(s=$.metadata?i.metadata():!1,o=" "+(i.attr("class")||""),"undefined"!=typeof i.data(r)||"undefined"!=typeof i.data(r.toLowerCase())?n+=i.data(r)||i.data(r.toLowerCase()):s&&"undefined"!=typeof s[r]?n+=s[r]:e&&"undefined"!=typeof e[r]?n+=e[r]:" "!==o&&o.match(" "+r+"-")&&(n=o.match(new RegExp(" "+r+"-(\\w+)"))[1]||""),$.trim(n)):""},ts.formatFloat=function(t,e){if("string"!=typeof t||""===t)return t;t=e.config.usNumberFormat!==!1?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(/,"-").replace(/\)/,""));var r=parseFloat(t);return isNaN(r)?$.trim(t):r},ts.isDigit=function(t){return isNaN(t)?/^[\-+(]?\d+[)]?$/.test(t.toString().replace(/[,.'\s]/g,"")):!0}}});var ts=$.tablesorter;$.fn.extend({tablesorter:ts.construct}),ts.addParser({id:"text",is:function(){return!0},format:function(t,e){var r=e.config;return t=$.trim(r.ignoreCase?t.toLocaleLowerCase():t),r.sortLocaleCompare?ts.replaceAccents(t):t},type:"text"}),ts.addParser({id:"currency",is:function(t){return/^\(?[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+/.test(t)},format:function(t,e){return ts.formatFloat(t.replace(/[^\w,. \-()]/g,""),e)},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(t){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(t)},format:function(t,e){var r,s=t.split("."),o="",n=s.length;for(r=0;n>r;r++)o+=("00"+s[r]).slice(-3);return ts.formatFloat(o,e)},type:"numeric"}),ts.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\//.test(t)},format:function(t){return $.trim(t.replace(/(https?|ftp|file):\/\//,""))},type:"text"}),ts.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},format:function(t,e){return ts.formatFloat(""!==t?new Date(t.replace(/-/g,"/")).getTime()||"":"",e)},type:"numeric"}),ts.addParser({id:"percent",is:function(t){return/\d%\)?$/.test(t)},format:function(t,e){return ts.formatFloat(t.replace(/%/g,""),e)},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(t){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4}|'?\d{2})\s+(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(t)},format:function(t,e){return ts.formatFloat(new Date(t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",e)},type:"numeric"}),ts.addParser({id:"shortDate",is:function(t){return/^(\d{2}|\d{4})[\/\-\,\.\s+]\d{2}[\/\-\.\,\s+](\d{2}|\d{4})$/.test(t)},format:function(t,e,r,s){var o=e.config,n=o.headerList[s],i=n.shortDateFormat;return"undefined"==typeof i&&(i=n.shortDateFormat=ts.getData(n,o.headers[s],"dateFormat")||o.dateFormat),t=t.replace(/\s+/g," ").replace(/[\-|\.|\,]/g,"/"),"mmddyyyy"===i?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===i?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===i&&(t=t.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")),ts.formatFloat(new Date(t).getTime()||"",e)},type:"numeric"}),ts.addParser({id:"time",is:function(t){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(t)},format:function(t,e){return ts.formatFloat(new Date("2000/01/01 "+t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",e)},type:"numeric"}),ts.addParser({id:"digit",is:function(t){return ts.isDigit(t)},format:function(t,e){return ts.formatFloat(t.replace(/[^\w,. \-()]/g,""),e)},type:"numeric"}),ts.addParser({id:"metadata",is:function(){return!1},format:function(t,e,r){var s=e.config,o=s.parserMetadataName?s.parserMetadataName:"sortValue";return $(r).metadata()[o]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(t,e,r){var s,o,n,i,a,c,d,l,u=new RegExp(e.cssChildRow,"i"),f=$(t).children("tbody:not(."+e.cssInfoBlock+")");for(e.debug&&(c=new Date),d=0;d<f.length;d++)s=$(f[d]),l=s.children("tr").length,l>1&&(i=0,o=s.children("tr:visible"),o.each(function(){n=$(this),u.test(this.className)||i++,a=i%2===0,n.removeClass(r.zebra[a?1:0]).addClass(r.zebra[a?0:1])}));e.debug&&ts.benchmark("Applying Zebra widget",c)},remove:function(t,e){var r,s,o=$(t).children("tbody:not(."+e.cssInfoBlock+")"),n=(e.widgetOptions.zebra||["even","odd"]).join(" ");for(r=0;r<o.length;r++)s=$.tablesorter.processTbody(t,$(o[r]),!0),s.children().removeClass(n),$.tablesorter.processTbody(t,s,!1)}})}(jQuery),function(){$.tablesorter.addParser({id:"name",is:function(){return!0},format:function(t){return t.toLowerCase()},type:"text"}),$.tablesorter.addParser({id:"cohort",is:function(){return!0},format:function(t){return""+t.slice(1)+("W"===t[0]?0:1)},type:"numeric"}),$(function(){var t;return $("table").tablesorter({headers:{1:{sorter:"name"},3:{sorter:"cohort"},5:{sorter:!1}}}),t=function(){return $("#companies_count").text($("tbody > tr:visible").length)},$.each(["operating","exited","dead"],function(e,r){var s;return s=function(){var e;return e=$("."+r),$(this).attr("checked")?e.show():e.hide(),t()},$("#toggle-"+r).on("change",s)}),t()})}.call(this);
